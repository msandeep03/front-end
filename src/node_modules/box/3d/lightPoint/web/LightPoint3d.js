import React, { Component } from 'react'
import compose              from 'recompose/compose'
import lifecycle            from 'recompose/lifecycle'

import * as THREE           from 'three'


import Context              from '../../scene/all/Context'


const enhance = compose(
  lifecycle({
    componentDidMount() {
      const { fromScene } = this.props
      const { scene } = fromScene

      // const sphere = new THREE.SphereBufferGeometry(10, 16, 8)
      // const light = new THREE.PointLight(0xffffff, 2, 40)
      // light.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xff0040 })))

      // light.position.x = 0
      // light.position.z = -50
      // light.position.y = 0

      // var lightHolder = new THREE.Group();

      // var hemiLight = new THREE.HemisphereLight( 0x7c849b, 0xd7cbb1, 0.1 );
      // hemiLight.position.set( 0, 1, 0 );
      // scene.add( hemiLight )

      // var shadowLight = new THREE.DirectionalLight(0xffffee, 0.1);
      // shadowLight.position.set(-1.5, 1.25, -1.5);
      // shadowLight.castShadow = true;
      // shadowLight.shadow.width = 512;
      // shadowLight.shadow.height = 512;
      // shadowLight.shadow.camera.top = 2;
      // shadowLight.shadow.camera.bottom = -2;
      // shadowLight.shadow.camera.left = -2.5;
      // shadowLight.shadow.camera.right = 2.5;
      // shadowLight.shadow.camera.far = 5.75;
      // shadowLight.shadow.bias = -0.025;
      // lightHolder.add(shadowLight, shadowLight.target);
      // // const light = new THREE.HemisphereLight(0xffffff, 0xffffff, 1)
      // // light.color.setHSL(0.6, 1, 0.6)
      // // light.groundColor.setHSL(0.095, 1, 0.45)
      // // light.position.set(0, 0, 100)

      // // scene.add(light)

      // const dirLight = new THREE.DirectionalLight(0xffffff, 1)
      // dirLight.color.setHSL(0, 1, 0.95)
      // dirLight.position.set(0, 10, 10)
      // dirLight.position.multiplyScalar(0.2)

      // scene.add(dirLight)

      //scene.add(new THREE.AmbientLight(0x111111))
    }
  }),
)

const LightPoint3d = enhance(() => null)

export default (props) => {
  return (
    <Context.Consumer>
      {(context) => (
        <LightPoint3d {...props} fromScene={context} />
      )}
    </Context.Consumer>
  )
}