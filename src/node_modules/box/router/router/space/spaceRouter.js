import spaceDefaults        from 'evoke-me/space/api/spaceDefaults'


import config               from '../../config/api/config'
import manager              from '../api/manager'


export default [
  config.namespace,
  `router`,
  [],
  () => ({
    ...spaceDefaults.state,
  }),
  {
    ...spaceDefaults.updaters,
    set: (getState, setState, { create }) => function* ({ path, component }) {
      yield manager.set({ path, component })
      yield create({ path })
    },
  }
]