import React, { Component } from 'react'
import { Route }            from 'react-router-dom'
import { Switch }           from 'react-router-dom'
import compose              from 'recompose/compose'
import lifecycle            from 'recompose/lifecycle'

import spaceNav             from 'app/default/nav/space/spaceNav'
import withSpace            from 'evoke-me/space/all/withSpace'

import PageHome             from './PageHome'

const enhance = compose(
  withSpace(spaceNav),
  lifecycle({
    componentDidMount() {
      const { match, fromNav } = this.props
      const path = match.path.replace(`*`, ``)
      fromNav.pathSet(path)
    }
  }),  
)

const Router = enhance(({ match }) => {
  const path = match.path.replace(`*`, ``)

  return (
    <Switch>
      <Route path={path} component={PageHome} />
    </Switch>
  )
})

export default Router