import React, { Component } from 'react'
import compose              from 'recompose/compose'
import lifecycle            from 'recompose/lifecycle'


import withSpace            from 'evoke-me/space/all/withSpace'

import spaceCollage         from '../../space/spaceCollage'
import CollageList          from '../CollageList'


const enhance = compose(
  withSpace(spaceCollage),
  lifecycle({
    componentDidMount() {
      const { fromCollage } = this.props
      fromCollage.seed()
    }
  })
)

const BlockCollageList = enhance(({
  fromCollage,
}) => {
  const { data, orderMap } = fromCollage

  return (
    <CollageList
      data={data}
      order={orderMap.default}
    />
  )
})

export default BlockCollageList