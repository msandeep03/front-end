import React, { Component } from 'react'
import withRouter           from 'react-router-dom/withRouter'
import compose              from 'recompose/compose'


import Menu                 from 'app/default/pageHeader/web/Menu'
import Block                from 'evoke-me/layout/web/Block'
import withSpace            from 'evoke-me/space/all/withSpace'


import spaceNav             from '../../../nav/space/spaceNav'
import spacePageHeader      from '../../space/spacePageHeader'


const enhance = compose(
  withRouter,
  withSpace(spacePageHeader),
  withSpace(spaceNav),
)

const BlockPageHeaderMenu = enhance(({
  fromNav,
  fromPageHeader,
  history,
}) => {
  const { height } = fromPageHeader
  const { go } = fromNav

  const routes = {
    Home: { name: `Home`, caption: `Домой`, path: `/`, },
    MyWork: { name: `MyWork`, caption: `Мои коллажи`, path: `/my`, },
    Login: { name: `Login`, caption: `Войти`, path: `/enter`, },
  }

  const menuLeft = [
    routes.Home,
    routes.MyWork,
  ]

  const menuRight = [
    routes.Login,
  ]

  return (
    <Block
      center
      middle
      maxWidth
      style={{ height }}
    >
      <Menu
        menuLeft={menuLeft}
        menuRight={menuRight}
        onClick={({ name }) => go(routes[name].path, { history })}
      />
    </Block>
  )
})

export default BlockPageHeaderMenu